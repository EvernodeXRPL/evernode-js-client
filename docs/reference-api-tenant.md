# Tenant Client

## TenantClient class constructor - `TenantClient(xrpAddress, xrpSecret, options = {})`

### Parameters

Accepts three parameters.
| Name       | Type   | Description                                                                                                                                                                                                                                                                    |
| ---------- | ------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| xrpAddress | string | Xahau wallet address of the tenant                                                                                                                                                                                                                                              |
| xrpSecret  | string | Secret key of the above tenant's Xahau wallet                                                                                                                                                                                                                                   |
| options    | object | `(optional)` This can include two properties as below.<pre type="json">{<br> governorAddress: 'rGVHr1PrfL93UAjyw3DWZoi9adz2sLp2yL',<br> rippledServer: 'wss://hooks-testnet-v3.xrpl-labs.com'<br>}</pre> You can provide your own `governorAddress` and a `rippledServer` URL. |

### Example

```javascript
const tenantAddress = "rKfHBc8e1VemZPLZoPXB7HjSKU2QjkRfP";
const tenantSecret = "sszyYJ79AdUUF6dR7QfD9ARWfVuz3";

const client = new TenantClient(tenantAddress, tenantSecret, {
  governorAddress: "rGVHr1PrfL93UAjyw3DWZoi9adz2sLp2yL",
  rippledServer: "wss://hooks-testnet-v3.xrpl-labs.com",
});
```

<br>

## Acquire Lease - `async acquireLease(hostAddress, requirement, options = {})`

This function is called by a tenant client to acquire an available instance in a certain host. This function can takes three parameters as follows.

### Parameters

| **Name**    | **Type** | **Description**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| ----------- | -------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| hostAddress | string   | This is the wallet address of the preferred host that the HotPocket instance will be created in.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| requirement | Object   | The details needed for a successful creation of an instance will be contained in this 'Requirement' object.<br>Ex:<br> <pre type="javascript">{<br> owner*pubkey: "ed5cb83404120ac759609819591ef839b7d222c84f1f08b3012f490586159d2b50",<br> contract_id: "dc411912-bcdd-4f73-af43-32ec45844b9a", <br> image: "evernodedev/sashimono:hp.latest-ubt.20.04-njs.16",<br> config: {}<br>}</pre> For more details about '\_config*' object , please refer to [**this**](https://docs.evernode.org/en/latest/sdk/hotpocket/reference/configuration.html). <br><br> Note: Providing all the configurations herewith can cause _'TRANSACTION_FAILURE'_ error due to exceeding the maximum allowed memo size for now.                                                                                                                                                                                                                                                                                                                                                                                                                         |
| options     | Object   | `(optional)` This is an optional field and contains necessary configurations for the transaction to be completed.<br>Ex:<br><pre type="javascript">{<br> timeout: 30000,<br> leaseOfferIndex: '',<br> transactionOptions: {}<br>}</pre><br> <table><tr><th>Parameter name</th><th>Type</th><th>Description</th></tr><tr><td>timeout</td><td>number</td><td> This specifies a timeout for the transaction to be completed.<br>It accepts a number and time in milliseconds.<br>This is optional and defaults to 60000 unless provided.</td></tr><tr><td>leaseOfferIndex</td><td>string</td><td> The preferred index of the lease available in the given host.<br>An avaialble offer index will be taken unless this field is provided.</td></tr><tr><td>trasactionOptions</td><td>Object</td><td>During the acquiring process, an URITokenBuy transaction takes place.<br>Therefore the [fields defined in the official Xahau documentation for the URITokenBuy transaction](https://docs.xahau.network/technical/protocol-reference/transactions/transaction-types/uritokenbuy)<br>can be specified within this object.</td></tr></table> |

### Response Format

Returns a promise that resolves with an object similar to the following sample response object.

```javascriptevernodedev/sashimono:hp.latest-ubt.20.04-njs.16
{
  transaction: {
    Account: 'rEsRKQzg7ZRbk5ikYprR3MzE4ycTLgBLoe',
    Amount: '1',
    Destination: 'rwCtRNp2Hq3q2ozT18dnggxXRxM74ntzXp',
    Fee: '706',
    HookParameters: [ [Object], [Object] ],
    LastLedgerSequence: 11099345,
    Memos: [ [Object] ],
    NetworkID: 21338,
    Sequence: 760699988,
    SigningPubKey: '0361A6F86ABE93503E73365B894932682C68D34DEEE9FED825B41A32E5E62DF38E',
    TransactionType: 'Payment',
    TxnSignature: '304402205ECE537222F427AA97ADFAC5DD367A9BCE95E865163709D24E789D8C4AF3CF79022031B1260F11C351A6D3514B3EB390985833CB8AD596C2F76E306FE83292D2C091',
    ctid: 'C0A95CB50000535A',
    date: 761726552,
    hash: 'C84CC1B2EE736DE2025A1551EB09CB7A458A611CFC1952DFC1B919215B6DD711',
    inLedger: 11099317,
    ledger_index: 11099317,
    DeliveredAmount: '1'
  },
  instance: {
    name: 'D3509EEB1C2569330347242FEA840EEC8E34A6A8FEC0DA84FC7962E67E167C0E',
    pubkey: 'edd60480dbe1e1de3ef8a06362c3e198f70b1b0f14f73c5cdce1431b61b866a706',
    contract_id: 'dc411912-bcdd-4f73-af43-32ec45844b9a',
    peer_port: '22861',
    user_port: '26201',
    domain: '65.108.27.90'
  },
  acquireRefId: '85242ACB41BFDADB7DDB21869F254F0CD247950C4DE8A7B4984F24BAF1C01029'
}
```

The fields in detail:

| Name               | Type             | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| ------------------ | ---------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Account            | string           | The unique address of the account that initiated the transaction.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| Amount             | string           | The amount of currency to deliver.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| Destination        | string           | The address of the tenant account which made the acquireLease request.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| Fee                | string           | Integer amount of EVRs, in drops, to be destroyed as a cost for distributing this transaction to the network. Some transaction types have different minimum requirements.|                                                                                                                               |
| HookParameters     | array of objects | This contains 2 objects as follows,<br><pre type="javascript">[<br>  {<br>    name: "4556520100000000000000000000000000000000000000000000000000000002",<br>    value: "evnAcquireSuccess"<br>  },<br>  {<br>    name: "4556520100000000000000000000000000000000000000000000000000000003",<br>    value: "5267C171CF0438C21773B26A108021D31F6CFF8AB02A0F99E410669B5B448353"<br>  }<br>]</pre> The field names are in hex format. First object represents the event name which is 'evnAcquireSuccess'. Second object represents the event data.                                                              |
| LastLedgerSequence | number           | Highest ledger index this transaction can appear in. Specifying this field places a strict upper limit on how long the transaction can wait to be validated or rejected.                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| Memos              | array of Objects | This array contains one object. The following is an example: <pre type="javascript">[<br>  {<br>    type: "evnAcquireSuccess",<br>    format: "base64",<br>    data: "QVFSUUFtQ2xOa3VVc3YyVnpkWlhWVG8xaGhjVDZ1YnlOSFJ..."<br>  }<br>]</pre> Data in '_data_' field in each object are encoded in the format mentioned in '_format_' field.<br> 'data' field in first object contains the encrypted information about the instance, which can be found in other fields of the response object.<br>'data' in the second object contains the hex representation of the hash of acquiring request transaction. |
| NetworkID          | number           | The networkID is used in the Xahau Hooks library to specify the target network where the hooks will be deployed and executed.                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| Sequence           | number           | The sequence number of the account sending the transaction. A transaction is only valid if the Sequence number is exactly 1 greater than the previous transaction from the same account.                                                                                                                                                                                                                                                                                                                                                                                                                   |
| SigningPubKey      | string           | Hex representation of the public key that corresponds to the private key used to sign this transaction. If an empty string, indicates a multi-signature is present in the Signers field instead.                                                                                                                                                                                                                                                                                                                                                                                                           |
| TransactionType    | string           | The type of transaction. In this situation, it is always _'Payment'_                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| TxnSignature       | string           | (Automatically added when signing) The signature that verifies this transaction as originating from the account it says it is from.                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| ctid               | string           | Concise identifier of the transaction.                                                                                                                                                                                                                                                                                                                                                                                                                         |
| date               | number           | A number of seconds since January 1, 2000 (00:00 UTC) indicating the close time of the ledger in which the transaction was applied. This value does not have a precise relationship with physical time, and is dependent on the close time resolution.                                                                                                                                                                                                                                                                                                                                                     |
| hash               | string           | The SHA-512 hash of the transaction.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| inLedger           | number           | (Deprecated) Alias for ledger_index.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| ledger_index       | number           | The ledger index of the ledger that includes this transaction.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| name               | string           | The unique identifier of the instance. This is the URITokenID acquired during the registration.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| DeliveredAmount               | string           |  The amount of currency that actually reached the Destination.                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| contract_id        | string           | The unique contract identifier.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| peer_port          | string           | The port used for the communication among the instances in the cluster.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| user_port          | string           | The port used for the communication between the user and the instance.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| domain                 | string           | The public domain address of the host server.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| acquireRefId       | string           | The hash of the transaction that requested the initial acquiring of the instance.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |

### Error Response

On error, this functions rejects the promise with an error object similar to the following,

```javascript
{
  error: 'ACQUIRE_ERR',
  transaction: {
    Account: 'rrssGm5h8aWncB3CGMuQ2WGfexubbeCTLV',
    Amount: {
      currency: 'EVR',
      issuer: 'r9gYbjBfANRfA1JHfaCVfPPGfXYiqQvmhS',
      value: '2'
    },
    Destination: 'rnq9njowRVpoz9ZxEMJacuJkHPPwGvA1J9',
    Fee: '20',
    Flags: 0,
    HookParameters: [ [Object], [Object] ],
    LastLedgerSequence: 3906113,
    Memos: [ [Object] ],
    NetworkID: 21338,
    Sequence: 1974828,
    SigningPubKey: '03F27A7309A6B5234EA427B19E84A47C3505DE1C2D1F5BEACBF78C0CF3BE6E5CF1',
    TransactionType: 'Payment',
    TxnSignature: '304402205BB2EFE4AEB6E32794F303B851D22EF6C413D4070EA9D7A909BE29D10A05FBE8022061718C1225CDADFD8768C055F0D1EDA1738218DB3666262D83E509E2FA1603DF',
    date: 739970990,
    hash: '2F6D8D3D39C1E11AFC8F7ECFF16561C56FFF50C4F6EDA0EFCB7ADA0E5D2DCD8F',
    inLedger: 3906105,
    ledger_index: 3906105
  },
  reason: 'user_install_error',
  acquireRefId: 'C2083FE39D76435A877D5408FF279C2F2B906C3168864F9B7440C134157881B0'
}
```

The fields other than those mentioned in the successful response section above, are as follows,

| Field          | Type             | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| -------------- | ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| error          | string           | Error code: 'ACQUIRE_ERR'                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| reason         | string           | Reason for the failure of acquisition.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| Amount         | object           | An instance acquisition costs 2 EVRs and this transaction returns that 2 EVRs back due to acquisition failure. This object contains the three fields shown in the example code above.                                                                                                                                                                                                                                                                                                                                                                                                                           |
| HookParameters | array of objects | This contains 2 objects as follows,<pre type="javascript">[<br>  {<br>    name: "4556520100000000000000000000000000000000000000000000000000000002",<br>    value: "evnAcquireError"<br>  },<br>  {<br>    name: "4556520100000000000000000000000000000000000000000000000000000003",<br>    value: "C2083FE39D76435A877D5408FF279C2F2B906C3168864F9B7440C134157881B0"<br>  }<br>]</pre> The field names are in hex format. First object represents the event name which is 'evnAcquireError'. Second object represents the event data.                                                                           |
| Memos          | array of Objects | This array contains one object. The following is an example: <pre type="javascript">[<br>  {<br>    type: "evnAcquireError",<br>    format: "text/json",<br>    data: '{"type":"ACQUIRE_ERR","reason":"user_install_error"}'  <br>  }<br>]</pre> Data in '_data_' field in each object are encoded in the format mentioned in '_format_' field.<br> 'data' field in first object contains the encrypted information about the instance, which can be found in other fields of the response object.<br>'data' in the second object contains the hex representation of the hash of acquiring request transaction. |


### Example

```javascript
const evernode = require("evernode-js-client");

async function acquire() {
  const tenant = new evernode.TenantClient(tenantAddress, tenantSecret);
  await tenant.connect();

  try {
    const timeout = 10000;
    const hostAddress = "rnET2YR19WDP4vB8XtDhcF2J4afqMM6xim";

    const result = await tenant.acquireLease(
      hostAddress,
      {
        owner_pubkey:
          "ed5cb83404120ac759609819591ef839b7d222c84f1f08b3012f490586159d2b50",
        contract_id: "dc411912-bcdd-4f73-af43-32ec45844b9a",
        image: "evernodedev/sashimono:hp.latest-ubt.20.04-njs.16",
        config: {},
      },
      { timeout: timeout }
    );
    console.log("Tenant received instance ", result);
  } catch (err) {
    console.log("Tenant received acquire error: ", err.reason);
  }
}
```

<br>

## Acquire Lease Submit - `acquireLeaseSubmit(hostAddress, requirement, options = {})`

This function is called by a tenant client to submit the acquire lease transaction in a certain host. This function is called within the [acquireLease function](#acquire-lease---async-acquireleasehostaddress-requirement-options).

This accepts the same parameters passed to the acquireLease function.

### Parameters

| **Parameter** | **Type** | **Description**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| ------------- | -------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| hostAddress   | string   | This is the wallet address of the preferred host that the HotPocket instance will be created in.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| requirement   | object   | The details needed for a successful creation of an instance will be contained in this 'Requirement' object.<br>Ex:<br> <pre lang="javascript">{<br> owner*pubkey: "ed5cb83404120ac759609819591ef839b7d222c84f1f08b3012f490586159d2b50",<br> contract_id: "dc411912-bcdd-4f73-af43-32ec45844b9a", <br> image: "evernodedev/sashimono:hp.latest-ubt.20.04-njs.16",<br> config: {}<br>}</pre> For more details about '\_config*' object , please refer to [**this**](https://docs.evernode.org/en/latest/sdk/hotpocket/reference/configuration.html).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| options       | object   | `(optional)` This is an optional field and contains necessary configurations for the transaction to be completed.<br>Ex:<br><pre lang="javascript">{<br> timeout: 30000,<br> leaseOfferIndex: '',<br> transactionOptions: {}<br>}</pre><br> <table><tr><th>Parameter name</th><th>Type</th><th>Description</th></tr><tr><td>timeout</td><td>number</td><td> This specifies a timeout for the transaction to be completed. It accepts a number and time in milliseconds. This is optional and defaults to 60000 unless provided.</td></tr><tr><td>leaseOfferIndex</td><td>string</td><td> The preferred index of the lease available in the given host. An avaialble offer index will be taken unless this field is provided.</td></tr><tr><td>trasactionOptions</td><td>Object</td><td>During the acquiring process, an URITokenBuy transaction takes place. Therefore the [fields defined in the official Xahau documentation for the URITokenBuy transaction](https://docs.xahau.network/technical/protocol-reference/transactions/transaction-types/uritokenbuy) can be specified within this object.</td></tr></table> |

### Response Format

Returns a promise that resolves with an object similar to the following sample response object.

```javascript
{
  id: '5267C171CF0438C21773B26A108021D31F6CFF8AB02A0F99E410669B5B448353',
  code: 'tesSUCCESS',
  details: {
    Account: 'rwCtRNp2Hq3q2ozT18dnggxXRxM74ntzXp',
    Amount: {
      currency: 'EVR',
      issuer: 'ra328vuQhL5fKrjqGB3FzVM45a5zuNS2KR',
      value: '2'
    },
    Fee: '20',
    HookParameters: [ [Object] ],
    LastLedgerSequence: 3897222,
    Memos: [ [Object] ],
    NetworkID: 21338,
    Sequence: 3897180,
    SigningPubKey: '035D6AF15C705505D92C198900E075E80A71B8F7BB3C87E1D5173DFECDBEFEE69F',
    TransactionType: 'URITokenBuy',
    TxnSignature: '304402205E5DC9349740CD8115B81879AD20EE45706B2AF505DE07E9F89EC902AEBCA57F022023BEB2172A70948011A1E105AAF0FD081F94CD14EF74D36D8AB46EB15207F7C2',
    URITokenID: '34FB3A3426DB37FF69D9BDF62AB503B858BC7BEF24BD5F97CCBED17A61D4A6C5',
    ctid: 'C03B777E0000535A',
    date: 739944160,
    hash: '5267C171CF0438C21773B26A108021D31F6CFF8AB02A0F99E410669B5B448353',
    inLedger: 3897214,
    ledger_index: 3897214,
    meta: {
      AffectedNodes: [Array],
      TransactionIndex: 0,
      TransactionResult: 'tesSUCCESS'
    },
    validated: true
  }
}
```

The fields in detail:

| Name               | Type             | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| ------------------ | ---------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| id                 | string           | The unique hash of the transaction.                                                                                                                                                                                                                                                                                                                                                                                                                            |
| code               | string           | Status code of the transaction. It is '_tesSUCCESS_' if the transaction is successful.                                                                                                                                                                                                                                                                                                                                                                         |
| Account            | string           | The unique address of the Xahau account that initiated the transaction.                                                                                                                                                                                                                                                                                                                                                                                         |
| Amount             | number           | The amount of currency to deliver.                                                                                                                                                                                                                                                                                                                                                                                                                             |
| Fee                | string           | Integer amount of XAH, in drops, to be destroyed as a cost for distributing this transaction to the network.                                                                                                                                                                                                                                                                                                                                                   |
| HookParameters     | array of objects | This contains an object as follows,<pre type="javascript">[<br>  {<br>    HookParameter:{<br>      HookParameterName: "4556520100000000000000000000000000000000000000000000000000000002",<br>      HookParameterValue: "65766E416371756972654C65617365"<br>    }<br>  }<br>]</pre> The field values are in hex format. This object represents the event name. If decoded, event name is 'evnAcquireLease'.                                                     |
| LastLedgerSequence | number           | Highest ledger index this transaction can appear in. Specifying this field places a strict upper limit on how long the transaction can wait to be validated or rejected.                                                                                                                                                                                                                                                                                       |
| Memos              | array of objects | This contains an object as follows,<pre type="javascript">[<br>  {<br>    Memo:{<br>      MemoData: "415151474A505044644F694A4D58695333394E626B396A703765564E67644C722F3...",<br>      MemoFormat: "626173653634",<br>      MemoType: "65766E416371756972654C65617365"<br>    }<br>  }<br>]</pre> The field values are in hex format. If decoded, 'MemoType' has 'evnAcquireLease' and 'MemoFormat' has 'base64' as values. 'MemoData' has a string in base64. |
| NetworkID          | number           | The networkID is used in the Xahau Hooks library to specify the target network where the hooks will be deployed and executed.                                                                                                                                                                                                                                                                                                                                   |
| Sequence           | number           | The sequence number of the account sending the transaction. A transaction is only valid if the Sequence number is exactly 1 greater than the previous transaction from the same account.                                                                                                                                                                                                                                                                       |
| SigningPubKey      | string           | Hex representation of the public key that corresponds to the private key used to sign this transaction. If an empty string, indicates a multi-signature is present in the Signers field instead.                                                                                                                                                                                                                                                               |
| TransactionType    | string           | The type of transaction. In this situation, it is always _'URITokenBuy'_                                                                                                                                                                                                                                                                                                                                                                                       |
| TxnSignature       | string           | (Automatically added when signing) The signature that verifies this transaction as originating from the account it says it is from.                                                                                                                                                                                                                                                                                                                            |
| URITokenID         | string           | Index of the purchased URI Token.                                                                                                                                                                                                                                                                                                                                                                                                                              |
| ctid               | string           | Concise identifier of the transaction.                                                                                                                                                                                                                                                                                                                                                                                                                         |
| date               | number           | A number of seconds since January 1, 2000 (00:00 UTC) indicating the close time of the ledger in which the transaction was applied. This value does not have a precise relationship with physical time, and is dependent on the close time resolution.                                                                                                                                                                                                         |
| hash               | string           | The SHA-512 hash of the transaction.                                                                                                                                                                                                                                                                                                                                                                                                                           |
| inLedger           | number           | (Deprecated) Alias for ledger_index.                                                                                                                                                                                                                                                                                                                                                                                                                           |
| ledger_index       | number           | The ledger index of the ledger that includes this transaction.                                                                                                                                                                                                                                                                                                                                                                                                 |
| validated          | boolean          | Whether the transaction is validated or not.                                                                                                                                                                                                                                                                                                                                                                                                                   |
### Example

```javascript
const tx = await this.acquireLeaseSubmit(hostAddress, requirement);
```

<br>

## Watch Acquire Response - `async watchAcquireResponse(tx, options = {})`

This function watches for an acquire-success response(transaction) and returns the response or throws the error response on acquire-error response from the host Xahau account. This function is called within the [_acquireLease_](#acquire-lease---async-acquireleasehostaddress-requirement-options---) function.
This accepts two parameters as below.

### Parameters

| Name    | Type   | Description                                                                                                                                        |
| ------- | ------ | -------------------------------------------------------------------------------------------------------------------------------------------------- |
| tx      | object | The response object resolved by the [_acquireLeaseSubmit_](#acquire-lease-submit---acquireleasesubmithostaddress-requirement-options---) function. |
| options | object | `(optional)`The same option object passed to the [_acquireLease_](#acquire-lease---async-acquireleasehostaddress-requirement-options---) function. |

### Response Format

Returns a promise that resolves with an object similar to the following sample response object.

```javascript
{
  transaction: {
    Account: 'rhnMcWrVBZTwFxxLYA698cLWMSnbw7pj4N',
    Amount: '1',
    Destination: 'r4rFZpGKr3kc3zuHj7jhWhfYdPXGMvgsJ',
    Fee: '706',
    HookParameters: [ [Object], [Object] ],
    LastLedgerSequence: 11103107,
    Memos: [ [Object] ],
    NetworkID: 21338,
    Sequence: 760700037,
    SigningPubKey: '0361A6F86ABE93503E73365B894932682C68D34DEEE9FED825B41A32E5E62DF38E',
    TransactionType: 'Payment',
    TxnSignature: '3045022100E74F6D4F0DDFB29007E30076FEC1E68DFD2BD4F3874DD768C43787A4CDD3BFAA022023A68DA4EBA84D52E5EAFB3948B5E2A732C07E82DCF69C3DE2350D02C3EC5810',
    ctid: 'C0A96B670000535A',
    date: 761737900,
    hash: 'A72E51DC049F0B8CF7C9F862593EFD1D1064B01539BE34C28901DB5D6A442C82',
    inLedger: 11103079,
    ledger_index: 11103079,
    DeliveredAmount: '1'
  },
  instance: {
    name: '9627E275107C02F6D361B5456FB69F8CD97CF3AB80FD425307CA3C2AB70610C6',
    pubkey: 'ed498b870a3ec9a561b93e89f21800a28d718b3fa0bdd20b894368f5fe89251b13',
    contract_id: 'dc411912-bcdd-4f73-af43-32ec45844b9a',
    peer_port: '22861',
    user_port: '26201',
    domain: '65.108.27.90'
  },
  acquireRefId: 'F7B554E49210FC62CB17C179159FBD419CB55161733CF6D0F550F90A5ED2F483'
}
```

The fields in detail:

| Name               | Type             | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| ------------------ | ---------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Account            | string           | The unique address of the account that initiated the transaction.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| Amount             | string           | The amount of currency to deliver.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| Destination        | string           | The address of the tenant account which made the acquireLease request.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| Fee                | string           | Integer amount of EVRs, in drops, to be destroyed as a cost for distributing this transaction to the network. Some transaction types have different minimum requirements.                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| HookParameters     | array of objects | This contains 2 objects as follows,<pre type="javascript">[<br>  {<br>    name: "4556520100000000000000000000000000000000000000000000000000000002",<br>    value: "evnAcquireSuccess"<br>  },<br>  {<br>    name: "4556520100000000000000000000000000000000000000000000000000000003",<br>    value: "5267C171CF0438C21773B26A108021D31F6CFF8AB02A0F99E410669B5B448353"<br>  }<br>]</pre> The field names are in hex format. First object represents the event name which is 'evnAcquireSuccess'. Second object represents the event data.                                                                  |
| LastLedgerSequence | number           | Highest ledger index this transaction can appear in. Specifying this field places a strict upper limit on how long the transaction can wait to be validated or rejected.                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| Memos              | array of Objects | This array contains one object. The following is an example: <pre type="javascript">[<br>  {<br>    type: "evnAcquireSuccess",<br>    format: "base64",<br>    data: "QVFSUUFtQ2xOa3VVc3YyVnpkWlhWVG8xaGhjVDZ1YnlOSFJ..."<br>  }<br>]</pre> Data in '_data_' field in each object are encoded in the format mentioned in '_format_' field.<br> 'data' field in first object contains the encrypted information about the instance, which can be found in other fields of the response object.<br>'data' in the second object contains the hex representation of the hash of acquiring request transaction. |
| NetworkID          | number           | The networkID is used in the Xahau Hooks library to specify the target network where the hooks will be deployed and executed.                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| Sequence           | number           | The sequence number of the account sending the transaction. A transaction is only valid if the Sequence number is exactly 1 greater than the previous transaction from the same account.                                                                                                                                                                                                                                                                                                                                                                                                                   |
| SigningPubKey      | string           | Hex representation of the public key that corresponds to the private key used to sign this transaction. If an empty string, indicates a multi-signature is present in the Signers field instead.                                                                                                                                                                                                                                                                                                                                                                                                           |
| TransactionType    | string           | The type of transaction. In this situation, it is always _'Payment'_                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| TxnSignature       | string           | (Automatically added when signing) The signature that verifies this transaction as originating from the account it says it is from.                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| ctid               | string           | Concise identifier of the transaction.                                                                                                                                                                                                                                                                                                                                                                                                                         |
| date               | number           | A number of seconds since January 1, 2000 (00:00 UTC) indicating the close time of the ledger in which the transaction was applied. This value does not have a precise relationship with physical time, and is dependent on the close time resolution.                                                                                                                                                                                                                                                                                                                                                     |
| hash               | string           | The SHA-512 hash of the transaction.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| inLedger           | number           | (Deprecated) Alias for ledger_index.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| ledger_index       | number           | The ledger index of the ledger that includes this transaction.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| DeliveredAmount            | string           |   The amount of currency that actually reached the Destination.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| name               | string           | The unique identifier of the instance. This is the URITokenID acquired during the registration.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| contract_id        | string           | The unique contract identifier.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| peer_port          | string           | The port used for the communication among the instances in the cluster.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| user_port          | string           | The port used for the communication between the user and the instance.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| domain                 | string           | The public domain address of the host server.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| acquireRefId       | string           | The hash of the transaction that requested the initial acquiring of the instance.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |

### Example

```javascript
const response = await watchAcquireResponse(tx);
```

<br>

## Extend Lease - `async extendLease(hostAddress, moments, instanceName, options = {})`

This function is called by a tenant client to extend an available instance in certain host. This function can take four parameters as follows.

### Parameters

| Name         | Type   | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| ------------ | ------ | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| hostAddress  | string | HostAddress is a cryptographic code that allows a user to receive cryptocurrencies. <br><br> example: "rKtuh3pGwkPk86BuVrPNS58JkyMuz79DbB"                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| moments      | number | Moment is 1190 ledgers (est. 1 hour).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| instanceName | string | Tenant received instance name. this name can be retrieve by performing [acquire Lease](#acquire-lease---async-acquireleasehostaddress-requirement-options).                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| options      | object | This is an optional field and contains necessary details for the transactions. The attributes are explained down below. <br><br> **transactionOptions** - During the extending lease process, a [Payment](https://docs.xahau.network/technical/protocol-reference/transactions/transaction-types/payment) transaction takes place. Therefore the fields defined in the official Xahau documentation for the Payment transaction can be specified within this object. <br><br> **timeout** - This specifies a timeout for the transaction to be completed. it accepts a number and time in milliseconds. this is optional and defaults to 60000 unless provided. |

### Response Format

An example of a successful response:

```
exampleResponse {
  transaction: {
    Account: 'rEsRKQzg7ZRbk5ikYprR3MzE4ycTLgBLoe',
    Amount: '1',
    Destination: 'rwCtRNp2Hq3q2ozT18dnggxXRxM74ntzXp',
    Fee: '145',
    HookParameters: [ [Object], [Object] ],
    LastLedgerSequence: 11101261,
    Memos: [ [Object] ],
    NetworkID: 21338,
    Sequence: 760700009,
    SigningPubKey: '0361A6F86ABE93503E73365B894932682C68D34DEEE9FED825B41A32E5E62DF38E',
    TransactionType: 'Payment',
    TxnSignature: '3045022100B5448B82B8DE685F55281476EF81D0CC952439D67BC9B67BA78430E74C3582E20220466BD2F363F9F52185CDF365BE37E6C1A954C0758970C248C48569D82BD7B4F1',
    ctid: 'C0A964300000535A',
    date: 761732332,
    hash: '174BAA21C53198E044CE57769B3354D456A9508D81CB7515D2B6EC88582C7D62',
    inLedger: 11101232,
    ledger_index: 11101232,
    DeliveredAmount: '1'
  },
  expiryMoment: 1631,
  extendRefId: 'FECC6390D97DFDCB3EAB761D95F455FD697896DE35CF3F860C9D1669F0D9113C'
}
```

Now let's see the details of the response fields.

| Name               | Type             | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| ------------------ | ---------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| Account            | string           | The unique address of the account that initiated the transaction.                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| Amount             | string           | To specify an amount of XAH, use a String Number indicating drops of XAH, where each drop is equal to 0.000001 XAH. <br><br>For example, to specify 13.1 XAH : "13100000"                                                                                                                                                                                                                                                                                                                                                                                    |
| Destination        | string           | Tenant Xahau address that made the extend lease request.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| Fee                | string           | Integer amount of EVRs, in drops, to be destroyed as a cost for distributing this transaction to the network. Some transaction types have different minimum requirements.                                                                                                                                                                                                                                                                                                                                                                                    |
| HookParameters     | array of objects | This contains 2 objects as follows,<pre type="javascript">[<br>  {<br>    name: "4556520100000000000000000000000000000000000000000000000000000002",<br>    value: "evnExtendSuccess"<br>  },<br>  {<br>    name: "4556520100000000000000000000000000000000000000000000000000000003",<br>    value: "CC3A5C7D8CE4DF0962A8E702EBD2BFA439D4FEC1C3F72AF2BF18604FE5F1675E"<br>  }<br>]</pre> The field values are in hex format. First object represents the event name which is 'evnExtendSuccess'. Second object represents the event data.                     |
| LastLedgerSequence | number           | Highest ledger index this transaction can appear in. Specifying this field places a strict upper limit on how long the transaction can wait to be validated or rejected.                                                                                                                                                                                                                                                                                                                                                                                     |
| Memos              | array of Objects | This array contains one object. The following is an example: <pre type="javascript">[<br>  {<br>    type: "evnExtendSuccess",<br>    format: "hex",<br>    data: "00000002"<br>  }<br>]</pre> Data in '_data_' field in each object are encoded in the format mentioned in '_format_' field.<br> 'data' field in first object contains the encrypted information about the instance, which can be found in other fields of the response object.<br>'data' in the second object contains the hex representation of the hash of acquiring request transaction. |
| NetworkID          | number           | The networkID is used in the Xahau Hooks library to specify the target network where the hooks will be deployed and executed.                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| Sequence           | number           | The sequence number of the account sending the transaction. A transaction is only valid if the Sequence number is exactly 1 greater than the previous transaction from the same account.                                                                                                                                                                                                                                                                                                                                                                     |
| SigningPubKey      | string           | Hex representation of the public key that corresponds to the private key used to sign this transaction. If an empty string, indicates a multi-signature is present in the Signers field instead.                                                                                                                                                                                                                                                                                                                                                             |
| TransactionType    | string           | The type of transaction. Valid types include: Payment                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| TxnSignature       | string           | (Automatically added when signing) The signature that verifies this transaction as originating from the account it says it is from.                                                                                                                                                                                                                                                                                                                                                                                                                          |
| ctid               | string           | Concise identifier of the transaction.                                                                                                                                                                                                                                                                                                                                                                                                                         |
| date               | number           | A number of seconds since January 1, 2000 (00:00 UTC) indicating the close time of the ledger in which the transaction was applied. This value does not have a precise relationship with physical time, and is dependent on the close time resolution.                                                                                                                                                                                                                                                                                                       |
| hash               | string           | Every signed transaction has a unique "hash" that identifies it. The server provides the hash in the response when you submit the transaction.                                                                                                                                                                                                                                                                                                                                                                                                               |
| inLedger           | number           | (Deprecated) Alias for ledger_index.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| ledger_index       | number           | The ledger index of the ledger that includes this transaction.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| DeliveredAmount            | string           |   The amount of currency that actually reached the Destination.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| expiryMoment       | number           | Defines which moment instance going to expire.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| extendeRefId       | string           | Transaction ID of the extend request.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |

### Example

```javascript
const result = await tenant.extendLease(hostAddress, moments, instanceName, {
  timeout: timeout,
});
```

<br>

## Extend Lease Submit - `async extendLeaseSubmit(hostAddress, amount, tokenID, options = {})`

This function is called by a tenant client to submit the extend lease transaction in certain host. This function will be called inside extendLease function. This function can take four parameters as follows.

| Name        | Type   | Description                                                                                                                                                                                                                                                                                                                                                                                                |
| ----------- | ------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| hostAddress | string | HostAddress is a cryptographic code that allows a user to receive cryptocurrencies. <br><br> example: "rKtuh3pGwkPk86BuVrPNS58JkyMuz79DbB"                                                                                                                                                                                                                                                                 |
| amount      | number | Cost for the extended moments , in EVRs.                                                                                                                                                                                                                                                                                                                                                                   |
| tokenID     | string | Tenant received instance name. this name can be retrieve by performing [acquire Lease](#acquire-lease---async-acquireleasehostaddress-requirement-options).                                                                                                                                                                                                                                                |
| options     | object | This is an optional field and contains necessary details for the transactions. The attributes are explained down below. <br><br> **transactionOptions** - During the extending lease process, a [Payment](https://docs.xahau.network/technical/protocol-reference/transactions/transaction-types/payment) transaction takes place. Therefore the fields defined in the official Xahau documentation for the Payment transaction can be specified within this object. |

## Response Format

An example of a successful response:

```
exampleResponse  {
  id: 'CC3A5C7D8CE4DF0962A8E702EBD2BFA439D4FEC1C3F72AF2BF18604FE5F1675E',
  code: 'tesSUCCESS',
  details: {
    Account: 'rwCtRNp2Hq3q2ozT18dnggxXRxM74ntzXp',
    Amount: {
      currency: 'EVR',
      issuer: 'ra328vuQhL5fKrjqGB3FzVM45a5zuNS2KR',
      value: '4'
    },
    Destination: 'rEsRKQzg7ZRbk5ikYprR3MzE4ycTLgBLoe',
    Fee: '20',
    HookParameters: [ [Object], [Object] ],
    LastLedgerSequence: 3897235,
    Memos: [],
    NetworkID: 21338,
    Sequence: 3897182,
    SigningPubKey: '035D6AF15C705505D92C198900E075E80A71B8F7BB3C87E1D5173DFECDBEFEE69F',
    TransactionType: 'Payment',
    TxnSignature: '3045022100898E2E9583EBBB1A651E85CC27C97D04F6523C8568FD409C9955602EA400B60802204F6352E1C16C49A0B8BCC9D356C5440DFD839D25C51C89342CEF3DA8002500D0',
    ctid: 'C03B778B0002535A',
    date: 739944200,
    hash: 'CC3A5C7D8CE4DF0962A8E702EBD2BFA439D4FEC1C3F72AF2BF18604FE5F1675E',
    inLedger: 3897227,
    ledger_index: 3897227,
    meta: {
      AffectedNodes: [Array],
      TransactionIndex: 2,
      TransactionResult: 'tesSUCCESS',
      delivered_amount: [Object]
    },
    validated: true
  }
}
```

Now let's see the details of the response fields.

| Name               | Type             | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| ------------------ | ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| id                 | string           | The unique hash of the transaction.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| code               | string           | Status code of the transaction. It is '_tesSUCCESS_' if the transaction is successful.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| Account            | string           | The unique address of the account that initiated the transaction.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| Amount             | string           | To specify an amount of XAH, use a String Number indicating drops of XAH, where each drop is equal to 0.000001 XAH. <br><br>For example, to specify 13.1 XAH : "13100000"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| Destination        | string           | Tenant Xahau address that made the extend lease request.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| Fee                | string           | Integer amount of EVRs, in drops, to be destroyed as a cost for distributing this transaction to the network. Some transaction types have different minimum requirements.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| HookParameters     | array of objects | This contains 2 objects as follows,<pre type="javascript">[<br>  {<br>    HookParameter:{<br>      HookParameterName: "4556520100000000000000000000000000000000000000000000000000000002",<br>      HookParameterValue: "65766E457874656E644C65617365"<br>    }<br>  },<br>  {<br>    HookParameter:{<br>      HookParameterName: "4556520100000000000000000000000000000000000000000000000000000003",<br>      HookParameterValue: "34FB3A3426DB37FF69D9BDF62AB503B858BC7BEF24BD5F97CCBED17A61D4A6C5"<br>    }<br>  }<br>]</pre> The field values are in hex format. First object represents the event name which is 'evnExtendLease' after decoding. Second object represents the event data. |
| LastLedgerSequence | number           | Highest ledger index this transaction can appear in. Specifying this field places a strict upper limit on how long the transaction can wait to be validated or rejected.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| Memos              | array of objects | Additional arbitrary information used to identify this transaction.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| NetworkID          | number           | The networkID is used in the Xahau Hooks library to specify the target network where the hooks will be deployed and executed.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| Sequence           | number           | The sequence number of the account sending the transaction. A transaction is only valid if the Sequence number is exactly 1 greater than the previous transaction from the same account.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| SigningPubKey      | string           | Hex representation of the public key that corresponds to the private key used to sign this transaction. If an empty string, indicates a multi-signature is present in the Signers field instead.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| TransactionType    | string           | The type of transaction. Valid types include: Payment                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| TxnSignature       | string           | (Automatically added when signing) The signature that verifies this transaction as originating from the account it says it is from.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| ctid               | string           | Concise identifier of the transaction.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| date               | number           | A number of seconds since January 1, 2000 (00:00 UTC) indicating the close time of the ledger in which the transaction was applied. This value does not have a precise relationship with physical time, and is dependent on the close time resolution.                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| hash               | string           | Every signed transaction has a unique "hash" that identifies it. The server provides the hash in the response when you submit the transaction.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| inLedger           | number           | (Deprecated) Alias for ledger_index.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| ledger_index       | number           | The ledger index of the ledger that includes this transaction.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| validated          | boolean          | Whether the transaction is validated or not.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |

## Example

```javascript
const tx = await this.extendLeaseSubmit(hostAddress, amount, tokenID, options);
```

<br>

## Watch Extend Response - `async watchExtendResponse(tx, options = {})`

This function watches for an extendlease-success response(transaction) and returns the response or throws the error response on extendlease-error response from the host Xahau account. This function is called within the [_extendLease_](#extend-lease---async-acquireleasehostaddress-requirement-options---) function.

### Parameters

| Name    | Type   | Description                                                                                                                                                                                                                                                                                                       |
| ------- | ------ | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| tx      | object | Response of [extendLeaseSubmit](#extend-lease-submit)                                                                                                                                                                                                                                                             |
| options | object | This is an optional field and contains necessary details for the transactions. The attributes are explained down below. <br><br>**timeout** - This specifies a timeout for the transaction to be completed. it accepts a number and time in milliseconds. this is optional and defaults to 60000 unless provided. |

### Response Format

An example of a successful response:

```
exampleResponse {
  transaction: {
    Account: 'rhnMcWrVBZTwFxxLYA698cLWMSnbw7pj4N',
    Amount: '1',
    Destination: 'r4rFZpGKr3kc3zuHj7jhWhfYdPXGMvgsJ',
    Fee: '145',
    HookParameters: [ [Object], [Object] ],
    LastLedgerSequence: 11103283,
    Memos: [ [Object] ],
    NetworkID: 21338,
    Sequence: 760700040,
    SigningPubKey: '0361A6F86ABE93503E73365B894932682C68D34DEEE9FED825B41A32E5E62DF38E',
    TransactionType: 'Payment',
    TxnSignature: '304402201F687649DBF806AF60254BE463AF9C591F3939E0708ACFBA4F91CEBB6332146E0220486A7D0E5DF3DE1AB5E59A8DCAF4D71802AFD62D8FFF3D2A8E6BC25BA5FA115F',
    ctid: 'C0A96C170000535A',
    date: 761738430,
    hash: '4A2DB907B084396676B144912BEF3B96CA3DCCABF6291F884D938AE52A1C4C60',
    inLedger: 11103255,
    ledger_index: 11103255,
    DeliveredAmount: '1'
  },
  expiryMoment: 1635,
  extendRefId: '28F50AC675DBD0444C51934F35BA328B6B24C6EA60805674FB791D61E20610D1'
}
```

Now let's see the details of the response fields.

| Name               | Type             | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| ------------------ | ---------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| Account            | string           | The unique address of the account that initiated the transaction.                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| Amount             | string           | To specify an amount of XAH, use a String Number indicating drops of XAH, where each drop is equal to 0.000001 XAH. <br><br>For example, to specify 13.1 XAH : "13100000"                                                                                                                                                                                                                                                                                                                                                                                    |
| Destination        | string           | Tenant Xahau address that made the extend lease request.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| Fee                | string           | Integer amount of EVRs, in drops, to be destroyed as a cost for distributing this transaction to the network. Some transaction types have different minimum requirements.                                                                                                                                                                                                                                                                                                                                                                                    |
| HookParameters     | array of objects | This contains 2 objects as follows,<pre type="javascript">[<br>  {<br>    name: "4556520100000000000000000000000000000000000000000000000000000002",<br>    value: "evnExtendSuccess"<br>  },<br>  {<br>    name: "4556520100000000000000000000000000000000000000000000000000000003",<br>    value: "CC3A5C7D8CE4DF0962A8E702EBD2BFA439D4FEC1C3F72AF2BF18604FE5F1675E"<br>  }<br>]</pre> The field values are in hex format. First object represents the event name which is 'evnExtendSuccess'. Second object represents the event data.                     |
| LastLedgerSequence | number           | Highest ledger index this transaction can appear in. Specifying this field places a strict upper limit on how long the transaction can wait to be validated or rejected.                                                                                                                                                                                                                                                                                                                                                                                     |
| Memos              | array of Objects | This array contains one object. The following is an example: <pre type="javascript">[<br>  {<br>    type: "evnExtendSuccess",<br>    format: "hex",<br>    data: "00000002"<br>  }<br>]</pre> Data in '_data_' field in each object are encoded in the format mentioned in '_format_' field.<br> 'data' field in first object contains the encrypted information about the instance, which can be found in other fields of the response object.<br>'data' in the second object contains the hex representation of the hash of acquiring request transaction. |
| NetworkID          | number           | The networkID is used in the Xahau Hooks library to specify the target network where the hooks will be deployed and executed.                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| Sequence           | number           | The sequence number of the account sending the transaction. A transaction is only valid if the Sequence number is exactly 1 greater than the previous transaction from the same account.                                                                                                                                                                                                                                                                                                                                                                     |
| SigningPubKey      | string           | Hex representation of the public key that corresponds to the private key used to sign this transaction. If an empty string, indicates a multi-signature is present in the Signers field instead.                                                                                                                                                                                                                                                                                                                                                             |
| TransactionType    | string           | The type of transaction. Valid types include: Payment                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| TxnSignature       | string           | (Automatically added when signing) The signature that verifies this transaction as originating from the account it says it is from.                                                                                                                                                                                                                                                                                                                                                                                                                          |
| ctid               | string           | Concise identifier of the transaction.                                                                                                                                                                                                                                                                                                                                                                                                                         |
| date               | number           | A number of seconds since January 1, 2000 (00:00 UTC) indicating the close time of the ledger in which the transaction was applied. This value does not have a precise relationship with physical time, and is dependent on the close time resolution.                                                                                                                                                                                                                                                                                                       |
| hash               | string           | Every signed transaction has a unique "hash" that identifies it. The server provides the hash in the response when you submit the transaction.                                                                                                                                                                                                                                                                                                                                                                                                               |
| inLedger           | number           | (Deprecated) Alias for ledger_index.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| ledger_index       | number           | The ledger index of the ledger that includes this transaction.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| DeliveredAmount            | string           |   The amount of currency that actually reached the Destination.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| expiryMoment       | number           | Defines which moment instance going to expire.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |

## Example

```javascript
const response = await this.watchExtendResponse(tx, options);
```
